<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bio-Robotics Technology Radar - TRL Visualization</title>
    <link rel="stylesheet" href="experimental-design.css">
    <style>
        /* Clean Radar Visualization Styles */
        body {
            background: var(--color-white);
            color: var(--color-black);
            overflow-x: hidden;
            font-family: var(--font-primary);
        }

        .radar-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            display: flex;
            flex-direction: column;
            background: var(--color-white);
        }

        .radar-header {
            position: absolute;
            top: 20px;
            left: 20px;
            z-index: 100;
        }

        .radar-title {
            font-size: 24px;
            font-weight: 700;
            color: var(--color-electric-blue);
            margin: 0;
        }

        .radar-subtitle {
            font-size: 12px;
            color: var(--color-gray-600);
            margin: 5px 0 10px 0;
            text-transform: uppercase;
            letter-spacing: 2px;
        }

        .trl-info-btn {
            background: var(--color-electric-blue) !important;
            color: var(--color-white) !important;
            border-color: var(--color-electric-blue) !important;
        }

        .trl-info-btn:hover {
            background: var(--color-electric-blue-dark) !important;
            border-color: var(--color-electric-blue-dark) !important;
            color: var(--color-white) !important;
        }

        .controls-panel {
            position: absolute;
            top: 20px;
            right: 20px;
            z-index: 100;
            display: flex;
            flex-direction: column;
            gap: 10px;
        }

        .control-group {
            background: var(--color-white);
            border: 1px solid var(--color-gray-200);
            border-radius: 5px;
            padding: 10px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .control-label {
            font-size: 10px;
            color: var(--color-gray-600);
            text-transform: uppercase;
            margin-bottom: 5px;
            letter-spacing: 1px;
            font-weight: 600;
        }

        .filter-buttons {
            display: flex;
            gap: 5px;
            flex-wrap: wrap;
        }

        .filter-btn {
            padding: 5px 10px;
            background: var(--color-gray-100);
            border: 1px solid var(--color-gray-300);
            color: var(--color-gray-700);
            font-size: 10px;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 500;
        }

        .filter-btn:hover {
            background: var(--color-electric-blue-bg);
            border-color: var(--color-electric-blue);
            color: var(--color-electric-blue);
        }

        .filter-btn.active {
            background: var(--color-electric-blue);
            border-color: var(--color-electric-blue);
            color: var(--color-white);
        }

        .radar-canvas {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
        }

        .zoom-controls {
            position: absolute;
            left: 20px;
            top: 50%;
            transform: translateY(-50%);
            display: flex;
            flex-direction: column;
            gap: 10px;
            z-index: 100;
        }

        .zoom-btn {
            width: 40px;
            height: 40px;
            background: var(--color-white);
            border: 1px solid var(--color-gray-300);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.3s ease;
            font-size: 18px;
            font-weight: 600;
            color: var(--color-gray-700);
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .zoom-btn:hover {
            background: var(--color-electric-blue);
            color: var(--color-white);
            border-color: var(--color-electric-blue);
        }

        .info-panel {
            position: absolute;
            bottom: 20px;
            left: 20px;
            right: 20px;
            background: var(--color-white);
            border: 1px solid var(--color-gray-200);
            border-radius: 10px;
            padding: 20px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            opacity: 0;
            transform: translateY(100%);
            transition: all 0.4s ease;
            max-height: 400px;
            overflow-y: auto;
        }

        .info-panel.active {
            opacity: 1;
            transform: translateY(0);
        }

        .info-title {
            font-size: 18px;
            color: var(--color-electric-blue);
            margin: 0 0 10px 0;
            font-weight: 700;
        }

        .info-meta {
            display: flex;
            gap: 15px;
            margin-bottom: 15px;
            flex-wrap: wrap;
        }

        .meta-badge {
            padding: 3px 8px;
            border-radius: 3px;
            font-size: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        .meta-research {
            background: var(--color-electric-blue);
            color: var(--color-white);
        }

        .meta-industry {
            background: var(--color-gray-800);
            color: var(--color-white);
        }

        .meta-emerging {
            background: var(--color-gray-600);
            color: var(--color-white);
        }

        .meta-experimental {
            background: var(--color-electric-blue-dark);
            color: var(--color-white);
        }

        .info-description {
            color: var(--color-gray-700);
            line-height: 1.6;
            margin-bottom: 15px;
            font-size: 14px;
        }

        .references-section {
            margin-top: 20px;
            padding-top: 15px;
            border-top: 1px solid var(--color-gray-200);
        }

        .references-title {
            font-size: 14px;
            font-weight: 600;
            color: var(--color-black);
            margin-bottom: 10px;
        }

        .reference-item {
            margin-bottom: 8px;
            font-size: 12px;
            color: var(--color-gray-600);
        }

        .reference-link {
            color: var(--color-electric-blue);
            text-decoration: none;
        }

        .reference-link:hover {
            text-decoration: underline;
        }

        .progress-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 10px;
        }

        .progress-item {
            background: var(--color-gray-50);
            border: 1px solid var(--color-gray-200);
            border-radius: 5px;
            padding: 10px;
        }

        .progress-label {
            font-size: 10px;
            color: var(--color-gray-600);
            text-transform: uppercase;
            margin-bottom: 5px;
            font-weight: 600;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: var(--color-gray-200);
            border-radius: 4px;
            overflow: hidden;
            margin-bottom: 5px;
        }

        .progress-fill {
            height: 100%;
            background: var(--color-electric-blue);
            transition: width 0.8s ease;
        }

        .progress-value {
            font-size: 12px;
            color: var(--color-electric-blue);
            font-weight: 600;
        }

        .close-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            background: none;
            border: none;
            color: var(--color-gray-500);
            font-size: 20px;
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close-btn:hover {
            color: var(--color-electric-blue);
        }

        .legend {
            position: absolute;
            bottom: 20px;
            right: 20px;
            background: var(--color-white);
            border: 1px solid var(--color-gray-200);
            border-radius: 5px;
            padding: 15px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        .trl-info-panel {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--color-white);
            border: 2px solid var(--color-electric-blue);
            border-radius: 10px;
            padding: 20px;
            max-width: 600px;
            width: 90%;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.15);
            opacity: 0;
            visibility: hidden;
            transition: all 0.4s ease;
            z-index: 200;
        }

        .trl-info-panel.active {
            opacity: 1;
            visibility: visible;
        }

        .trl-info-title {
            font-size: 18px;
            font-weight: 700;
            color: var(--color-electric-blue);
            margin-bottom: 15px;
        }

        .trl-info-content {
            color: var(--color-gray-700);
            line-height: 1.6;
            font-size: 14px;
            margin-bottom: 20px;
        }

        .trl-levels-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 15px;
        }

        .trl-level-item {
            padding: 8px;
            background: var(--color-gray-50);
            border-radius: 4px;
            font-size: 11px;
            text-align: center;
        }

        .trl-level-number {
            font-weight: 600;
            color: var(--color-electric-blue);
        }

        .close-info-btn {
            position: absolute;
            top: 10px;
            right: 15px;
            background: none;
            border: none;
            font-size: 20px;
            color: var(--color-gray-500);
            cursor: pointer;
            transition: color 0.3s ease;
        }

        .close-info-btn:hover {
            color: var(--color-electric-blue);
        }

        .legend-title {
            font-size: 12px;
            color: var(--color-electric-blue);
            margin-bottom: 10px;
            text-transform: uppercase;
            letter-spacing: 1px;
            font-weight: 600;
        }

        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-bottom: 5px;
            font-size: 10px;
            color: var(--color-gray-700);
        }

        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 2px;
        }

        .loading {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            color: #00f5ff;
            font-size: 14px;
            text-transform: uppercase;
            letter-spacing: 2px;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {

            0%,
            100% {
                opacity: 0.4;
            }

            50% {
                opacity: 1;
            }
        }

        @media (max-width: 1024px) {
            .radar-container {
                height: auto;
                min-height: 100vh;
                padding-bottom: 20px;
            }

            .radar-header {
                position: static;
                margin: 20px;
            }

            .radar-canvas {
                position: relative;
                width: 100%;
                height: 70vh;
            }

            .controls-panel {
                position: static;
                margin: 10px 20px 0 20px;
            }

            .legend {
                position: static;
                margin: 10px 20px;
            }

            .zoom-controls {
                position: static;
                transform: none;
                flex-direction: row;
                justify-content: center;
                margin: 10px 0;
            }
        }

        @media (max-width: 768px) {
            .radar-container {
                height: auto;
                min-height: 100vh;
                padding-bottom: 16px;
            }

            .radar-title {
                font-size: 18px;
            }

            .radar-header {
                position: static;
                margin: 16px;
            }

            .radar-canvas {
                position: relative;
                width: 100%;
                height: 60vh;
            }

            .controls-panel {
                position: static;
                top: auto;
                right: auto;
                margin: 10px 16px 0 16px;
            }

            .legend {
                position: static;
                bottom: auto;
                right: auto;
                margin: 10px 16px;
            }

            .zoom-controls {
                position: static;
                transform: none;
                flex-direction: row;
                justify-content: center;
                margin: 10px 0;
            }
        }
    </style>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <script async src="https://www.googletagmanager.com/gtag/js?id=G-R4MBJ1TPQ5"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag() { dataLayer.push(arguments); }
        gtag('js', new Date());
        gtag('config', 'G-R4MBJ1TPQ5');
    </script>
</head>

<body>
    <div class="radar-container">
        <div class="radar-header">
            <h1 class="radar-title">BIO-ROBOTICS TECHNOLOGY RADAR</h1>
            <p class="radar-subtitle">Technology Readiness Level Visualization</p>
        </div>

        <div class="controls-panel">
            <div class="control-group">
                <div class="control-label">Filter by Origin</div>
                <div class="filter-buttons">
                    <button class="filter-btn active" data-filter="all">ALL</button>
                    <button class="filter-btn" data-filter="research">RESEARCH</button>
                    <button class="filter-btn" data-filter="industry">INDUSTRY</button>
                    <button class="filter-btn" data-filter="emerging">EMERGING</button>
                    <button class="filter-btn" data-filter="experimental">EXPERIMENTAL</button>
                </div>
            </div>

            <div class="control-group">
                <div class="control-label">Time Period</div>
                <div class="filter-buttons">
                    <button class="filter-btn active" data-time="2025">2025</button>
                    <button class="filter-btn" data-time="2020">2020</button>
                    <button class="filter-btn" data-time="2015">2015</button>
                </div>
            </div>

            <div class="control-group">
                <div class="control-label">Learn More</div>
                <div class="filter-buttons">
                    <button class="filter-btn trl-info-btn" onclick="toggleTRLInfo()">WHAT IS TRL?</button>
                </div>
            </div>

            <div class="control-group">
                <div class="control-label">Navigate</div>
                <div class="filter-buttons">
                    <button class="filter-btn" onclick="window.location.href='index.html'">HOME</button>
                    <button class="filter-btn"
                        onclick="window.location.href='biorobotics-landing.html'">LANDING</button>
                </div>
                <div class="filter-buttons" style="margin-top: 5px;">
                    <select class="trl-dropdown" onchange="if(this.value) window.location.href=this.value;"
                        style="width: 100%; padding: 8px; border: 1px solid var(--color-gray-300); border-radius: 4px; background: var(--color-white); color: var(--color-gray-700); font-size: 10px; text-transform: uppercase; letter-spacing: 1px; font-weight: 500; cursor: pointer;">
                        <option value="">EXPLORE OTHER TRL RADARS ▼</option>
                        <option value="ai-trl.html">AI & Machine Learning</option>
                        <option value="blockchain-trl.html">Blockchain</option>
                        <option value="biorobotics-trl.html" disabled selected>Bio-Robotics</option>
                        <option value="edge-trl.html">Edge Computing</option>
                        <option value="interfaces-trl.html">Future Interfaces</option>
                        <option value="iot-trl.html">Internet of Things</option>
                        <option value="metaverse-trl.html">Metaverse</option>
                        <option value="quantum-trl.html">Quantum Computing</option>
                        <option value="robotics-trl.html">Robotics</option>
                        <option value="textiles-trl.html">Smart Textiles</option>
                    </select>
                </div>
            </div>
        </div>

        <div class="zoom-controls">
            <button class="zoom-btn" id="zoomIn" title="Zoom In">+</button>
            <button class="zoom-btn" id="zoomOut" title="Zoom Out">−</button>
            <button class="zoom-btn" id="resetZoom" title="Reset Zoom">⌂</button>
        </div>

        <svg class="radar-canvas" id="radarSvg"></svg>

        <div class="trl-info-panel" id="trlInfoPanel">
            <button class="close-info-btn" onclick="toggleTRLInfo()">×</button>
            <div class="trl-info-title">Technology Readiness Levels (TRL)</div>
            <div class="trl-info-content">
                Technology Readiness Levels for Bio-Robotics assess the maturity of biological-mechanical integration,
                living tissue interfaces, bio-inspired systems, and human augmentation technologies. TRL evaluation
                considers biocompatibility, neural integration quality, biomimetic performance, ethical frameworks,
                regulatory approval, and real-world deployment in medical, research, and human enhancement contexts.
            </div>
            <div class="trl-levels-grid">
                <div class="trl-level-item">
                    <div class="trl-level-number">TRL 1-2</div>
                    <div>Basic Research</div>
                </div>
                <div class="trl-level-item">
                    <div class="trl-level-number">TRL 3</div>
                    <div>Proof of Concept</div>
                </div>
                <div class="trl-level-item">
                    <div class="trl-level-number">TRL 4</div>
                    <div>Lab Validation</div>
                </div>
                <div class="trl-level-item">
                    <div class="trl-level-number">TRL 5</div>
                    <div>Animal/Sim Testing</div>
                </div>
                <div class="trl-level-item">
                    <div class="trl-level-number">TRL 6</div>
                    <div>Clinical Trials</div>
                </div>
                <div class="trl-level-item">
                    <div class="trl-level-number">TRL 7</div>
                    <div>Limited Approval</div>
                </div>
                <div class="trl-level-item">
                    <div class="trl-level-number">TRL 8</div>
                    <div>Clinical Deployment</div>
                </div>
                <div class="trl-level-item">
                    <div class="trl-level-number">TRL 9</div>
                    <div>Proven Clinical Use</div>
                </div>
                <div class="trl-level-item" style="grid-column: span 1; background: var(--color-electric-blue-bg);">
                    <div class="trl-level-number">Click & Explore</div>
                    <div>Interactive Technologies</div>
                </div>
            </div>
        </div>

        <div class="legend">
            <div class="legend-title">TRL Levels</div>
            <div class="legend-item">
                <div class="legend-color" style="background: #a3a3a3;"></div>
                <span>TRL 1-3: Research</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #525252;"></div>
                <span>TRL 4-6: Development</span>
            </div>
            <div class="legend-item">
                <div class="legend-color" style="background: #4040ff;"></div>
                <span>TRL 7-9: Clinical Use</span>
            </div>
        </div>

        <div class="info-panel" id="infoPanel">
            <button class="close-btn" onclick="closeInfoPanel()">×</button>
            <div id="infoPanelContent">
                <!-- Dynamic content will be loaded here -->
            </div>
        </div>

        <div class="loading" id="loadingIndicator">Initializing Radar...</div>
    </div>

    <script>
        const technologyData = {
            2015: [
                { id: 'prosthetics', name: 'Myoelectric Prosthetics', category: 'industry', trl: 7, angle: 0, progress: { research: 75, funding: 80, timeline: 70, consensus: 78 } },
                { id: 'exoskeletons', name: 'Powered Exoskeletons', category: 'emerging', trl: 5, angle: 30, progress: { research: 55, funding: 60, timeline: 50, consensus: 58 } },
                { id: 'cochlear', name: 'Cochlear Implants', category: 'industry', trl: 9, angle: 60, progress: { research: 98, funding: 100, timeline: 98, consensus: 99 } },
                { id: 'biomimetic-materials', name: 'Biomimetic Materials', category: 'research', trl: 3, angle: 90, progress: { research: 35, funding: 30, timeline: 25, consensus: 32 } },
                { id: 'soft-robotics', name: 'Soft Robotics', category: 'research', trl: 4, angle: 120, progress: { research: 40, funding: 45, timeline: 35, consensus: 42 } },
                { id: 'surgical-robots', name: 'Surgical Robots', category: 'industry', trl: 8, angle: 150, progress: { research: 85, funding: 95, timeline: 85, consensus: 90 } },
                { id: 'neural-interfaces', name: 'Neural Interfaces', category: 'research', trl: 3, angle: 180, progress: { research: 30, funding: 35, timeline: 25, consensus: 32 } },
                { id: 'biosensors', name: 'Implantable Biosensors', category: 'emerging', trl: 5, angle: 210, progress: { research: 50, funding: 55, timeline: 45, consensus: 52 } },
                { id: 'biohybrid', name: 'Biohybrid Robots', category: 'research', trl: 2, angle: 240, progress: { research: 25, funding: 20, timeline: 15, consensus: 22 } },
                { id: 'tissue-engineering', name: 'Tissue Engineering', category: 'research', trl: 4, angle: 270, progress: { research: 45, funding: 40, timeline: 35, consensus: 42 } },
                { id: 'artificial-organs', name: 'Artificial Organs', category: 'research', trl: 3, angle: 300, progress: { research: 35, funding: 40, timeline: 30, consensus: 37 } },
                { id: 'biomechanics', name: 'Biomechanical Analysis', category: 'industry', trl: 7, angle: 330, progress: { research: 70, funding: 75, timeline: 68, consensus: 73 } }
            ],
            2020: [
                { id: 'prosthetics', name: 'Advanced Prosthetics', category: 'industry', trl: 8, angle: 0, progress: { research: 88, funding: 95, timeline: 85, consensus: 90 } },
                { id: 'exoskeletons', name: 'Medical Exoskeletons', category: 'industry', trl: 7, angle: 20, progress: { research: 75, funding: 85, timeline: 72, consensus: 78 } },
                { id: 'cochlear', name: 'Cochlear Implants', category: 'industry', trl: 9, angle: 40, progress: { research: 100, funding: 100, timeline: 100, consensus: 100 } },
                { id: 'retinal-implants', name: 'Retinal Implants', category: 'emerging', trl: 6, angle: 60, progress: { research: 65, funding: 70, timeline: 60, consensus: 68 } },
                { id: 'soft-robotics', name: 'Soft Robotic Systems', category: 'emerging', trl: 6, angle: 80, progress: { research: 65, funding: 70, timeline: 60, consensus: 68 } },
                { id: 'surgical-robots', name: 'Surgical Robots (da Vinci)', category: 'industry', trl: 9, angle: 100, progress: { research: 95, funding: 100, timeline: 95, consensus: 98 } },
                { id: 'bci-basic', name: 'Brain-Computer Interfaces', category: 'research', trl: 5, angle: 120, progress: { research: 55, funding: 65, timeline: 50, consensus: 58 } },
                { id: 'biosensors', name: 'Biosensors & Monitors', category: 'industry', trl: 7, angle: 140, progress: { research: 78, funding: 85, timeline: 75, consensus: 80 } },
                { id: 'biohybrid', name: 'Biohybrid Systems', category: 'research', trl: 4, angle: 160, progress: { research: 45, funding: 50, timeline: 40, consensus: 48 } },
                { id: 'tissue-engineering', name: 'Tissue Engineering', category: 'emerging', trl: 6, angle: 180, progress: { research: 65, funding: 70, timeline: 60, consensus: 68 } },
                { id: 'bioprinting', name: '3D Bioprinting', category: 'research', trl: 5, angle: 200, progress: { research: 55, funding: 60, timeline: 50, consensus: 58 } },
                { id: 'neuroprosthetics', name: 'Neuroprosthetics', category: 'emerging', trl: 6, angle: 220, progress: { research: 60, funding: 70, timeline: 55, consensus: 63 } },
                { id: 'biomimetic-sensors', name: 'Biomimetic Sensors', category: 'research', trl: 5, angle: 240, progress: { research: 50, funding: 55, timeline: 45, consensus: 52 } },
                { id: 'artificial-muscle', name: 'Artificial Muscles', category: 'research', trl: 4, angle: 260, progress: { research: 40, funding: 45, timeline: 35, consensus: 42 } },
                { id: 'optogenetics', name: 'Optogenetics', category: 'research', trl: 5, angle: 280, progress: { research: 50, funding: 55, timeline: 45, consensus: 52 } },
                { id: 'microrobots-medical', name: 'Medical Microrobots', category: 'research', trl: 3, angle: 300, progress: { research: 35, funding: 40, timeline: 30, consensus: 37 } },
                { id: 'haptic-feedback', name: 'Haptic Feedback Systems', category: 'emerging', trl: 6, angle: 320, progress: { research: 60, funding: 65, timeline: 55, consensus: 62 } },
                { id: 'biomechanical-modeling', name: 'Biomechanical Modeling', category: 'industry', trl: 7, angle: 340, progress: { research: 75, funding: 80, timeline: 72, consensus: 78 } }
            ],
            2025: [
                { id: 'thought-controlled-prosthetics', name: 'Thought-Controlled Prosthetics', category: 'industry', trl: 8, angle: 0, progress: { research: 85, funding: 92, timeline: 82, consensus: 88 } },
                { id: 'exoskeletons-commercial', name: 'Commercial Exoskeletons', category: 'industry', trl: 8, angle: 15, progress: { research: 82, funding: 90, timeline: 78, consensus: 85 } },
                { id: 'retinal-implants', name: 'Retinal Implants', category: 'industry', trl: 7, angle: 30, progress: { research: 78, funding: 85, timeline: 72, consensus: 80 } },
                { id: 'neuralink-style-bci', name: 'High-Bandwidth BCI', category: 'emerging', trl: 6, angle: 45, progress: { research: 70, funding: 85, timeline: 62, consensus: 73 } },
                { id: 'soft-robotics-medical', name: 'Soft Robotic Surgery', category: 'industry', trl: 7, angle: 60, progress: { research: 75, funding: 85, timeline: 70, consensus: 78 } },
                { id: 'surgical-robots-ai', name: 'AI-Assisted Surgical Robots', category: 'industry', trl: 8, angle: 75, progress: { research: 88, funding: 95, timeline: 85, consensus: 90 } },
                { id: 'bidirectional-bci', name: 'Bidirectional Neural Interfaces', category: 'emerging', trl: 6, angle: 90, progress: { research: 68, funding: 75, timeline: 60, consensus: 70 } },
                { id: 'continuous-glucose', name: 'Continuous Biosensors', category: 'industry', trl: 9, angle: 105, progress: { research: 95, funding: 98, timeline: 95, consensus: 97 } },
                { id: 'living-robots', name: 'Living Robots (Xenobots)', category: 'research', trl: 4, angle: 120, progress: { research: 50, funding: 55, timeline: 42, consensus: 52 } },
                { id: 'organ-on-chip', name: 'Organ-on-a-Chip', category: 'industry', trl: 7, angle: 135, progress: { research: 78, funding: 82, timeline: 72, consensus: 78 } },
                { id: 'bioprinting-organs', name: '3D Bioprinted Organs', category: 'emerging', trl: 6, angle: 150, progress: { research: 70, funding: 75, timeline: 62, consensus: 72 } },
                { id: 'sensory-substitution', name: 'Sensory Substitution Devices', category: 'industry', trl: 7, angle: 165, progress: { research: 75, funding: 80, timeline: 70, consensus: 77 } },
                { id: 'biomimetic-skin', name: 'Biomimetic Skin', category: 'emerging', trl: 6, angle: 180, progress: { research: 65, funding: 70, timeline: 58, consensus: 68 } },
                { id: 'artificial-muscle-actuators', name: 'Artificial Muscle Actuators', category: 'emerging', trl: 6, angle: 195, progress: { research: 62, funding: 68, timeline: 55, consensus: 65 } },
                { id: 'optogenetic-therapy', name: 'Optogenetic Therapies', category: 'emerging', trl: 6, angle: 210, progress: { research: 68, funding: 75, timeline: 60, consensus: 70 } },
                { id: 'targeted-drug-microrobots', name: 'Targeted Drug Delivery Microrobots', category: 'research', trl: 5, angle: 225, progress: { research: 58, funding: 65, timeline: 50, consensus: 60 } },
                { id: 'haptic-prosthetics', name: 'Haptic Prosthetics', category: 'industry', trl: 7, angle: 240, progress: { research: 80, funding: 88, timeline: 75, consensus: 82 } },
                { id: 'self-healing-materials', name: 'Self-Healing Biomaterials', category: 'emerging', trl: 6, angle: 255, progress: { research: 65, funding: 70, timeline: 58, consensus: 68 } },
                { id: 'bio-inspired-vision', name: 'Bio-Inspired Vision Systems', category: 'industry', trl: 7, angle: 270, progress: { research: 72, funding: 78, timeline: 68, consensus: 75 } },
                { id: 'muscle-computer-interface', name: 'Muscle-Computer Interfaces', category: 'industry', trl: 7, angle: 285, progress: { research: 75, funding: 82, timeline: 70, consensus: 78 } },
                { id: 'biodegradable-implants', name: 'Biodegradable Implants', category: 'industry', trl: 7, angle: 300, progress: { research: 78, funding: 82, timeline: 72, consensus: 78 } },
                { id: 'neural-dust', name: 'Neural Dust Sensors', category: 'research', trl: 4, angle: 315, progress: { research: 48, funding: 55, timeline: 40, consensus: 50 } },
                { id: 'artificial-synapse', name: 'Artificial Synapses', category: 'research', trl: 4, angle: 330, progress: { research: 45, funding: 50, timeline: 38, consensus: 48 } },
                { id: 'body-area-networks', name: 'Wireless Body Area Networks', category: 'industry', trl: 8, angle: 345, progress: { research: 82, funding: 88, timeline: 78, consensus: 83 } }
            ]
        };

        const techDescriptions = {
            'thought-controlled-prosthetics': {
                description: 'Thought-controlled prosthetics use neural signals to control artificial limbs naturally and intuitively. By December 2025, advanced systems from companies like DEKA, Ottobock, and Mobius Bionics achieve near-natural control with multiple degrees of freedom. Users control prosthetic hands, arms, and legs through myoelectric sensors (muscle signals) and increasingly through direct neural interfaces. The LUKE arm enables simultaneous control of 6 powered joints, while the Modular Prosthetic Limb achieves 26 degrees of freedom. Benefits include natural movement, sensory feedback through haptic systems, and improved quality of life. Challenges include cost ($50,000-$100,000), training requirements, and limited sensory feedback.',
                references: [
                    'DARPA. (2024). Advanced Prosthetics Programs: Outcomes and Technology Transfer.',
                    'Johns Hopkins APL. (2025). Modular Prosthetic Limb: Clinical Validation Studies.',
                    'Nature. (2024). Neural control of prosthetic devices: State of the art.'
                ]
            },
            'exoskeletons-commercial': {
                description: 'Commercial Exoskeletons (TRL 8) have transitioned from military research to industrial and rehabilitative standards. Systems from Sarcos and German Bionic assist warehouse workers, reducing back strain by 60%. Medical exoskeletons like ReWalk permit paraplegics to walk independently, with FDA approval for home use. 2025 models feature lighter materials (carbon fiber), longer battery life (8+ hours), and "active" assistance that predicts user intent.',
                references: [
                    'Sarcos Robotics. (2024). Guardian XO Industrial Exoskeleton.',
                    'ReWalk Robotics. (2025). Clinical Outcomes in SCI Rehabilitation.'
                ]
            },
            'retinal-implants': {
                description: 'Retinal Implants (TRL 7), such as the Argus II and PRIMA systems, restore partial vision to patients with retinitis pigmentosa and macular degeneration. By bypassing damaged photoreceptors and stimulating surviving retinal cells directly, patients can perceive shapes, movement, and large letters. 2025 advancements focus on higher electrode density (improving resolution from pixelated flashes to recognizable images) and wireless power delivery.',
                references: [
                    'Second Sight. (2024). Artificial Retina Clinical Trials.',
                    'Nature Biomedical Engineering. (2024). High-acuity retinal prostheses.'
                ]
            },
            'neuralink-style-bci': {
                description: 'High-bandwidth brain-computer interfaces represent next-generation neural technology enabling direct communication between brain and computers. Neuralink\'s N1 implant features 1,024 electrodes across 64 threads thinner than human hair, surgically implanted by robot. First human trials began in 2024 with patients achieving computer cursor control and typing through thought. Competing systems include Synchron\'s endovascular Stentrode (FDA Breakthrough Device), Paradromics\' high-channel-count arrays, and Blackrock Neurotech\'s clinical systems. Applications span restoring communication for paralyzed patients, treating neurological conditions, and future human augmentation. Challenges include surgical risks, long-term biocompatibility, data bandwidth limitations, and ethical concerns around cognitive enhancement.',
                references: [
                    'Neuralink. (2024). First Human Clinical Trial Results and Safety Data.',
                    'Nature Neuroscience. (2025). High-bandwidth brain-computer interfaces: Promise and challenges.',
                    'FDA. (2024). Breakthrough Device Designation for BCI Systems.'
                ]
            },
            'soft-robotics-medical': {
                description: 'Soft Robotic Surgery equipment (TRL 7) utilizes flexible, biocompatible materials to navigate complex anatomical pathways safely. Unlike rigid robots, these systems can "slither" through blood vessels or intestines with minimal tissue damage. Key applications include non-invasive colonoscopy, precise catheter ablation for arrhythmia, and safer handling of delicate organs during transplants.',
                references: [
                    'Harvard Wyss Institute. (2024). Soft Robotics for Minimally Invasive Surgery.',
                    'Science Robotics. (2024). Soft continuum robots in medical applications.'
                ]
            },
            'surgical-robots-ai': {
                description: 'AI-assisted surgical robots combine robotic precision with artificial intelligence for enhanced surgical outcomes. The da Vinci X and Xi systems perform millions of procedures globally with AI features including tremor filtration, motion scaling, and anatomical recognition. Emerging systems like Verb Surgical (Google/J&J), CMR Surgical\'s Versius, and Medtronic\'s Hugo use computer vision for tissue identification, predictive analytics for complication prevention, and autonomous suturing. Benefits include 3-5x magnification, sub-millimeter precision, reduced blood loss, faster recovery, and remote surgery capability. Challenges include cost ($1-2.5 million per system), training requirements, lack of haptic feedback, and ensuring AI safety and reliability.',
                references: [
                    'Intuitive Surgical. (2025). da Vinci Surgical System: 10 Million Procedures Milestone.',
                    'Nature Medicine. (2024). Machine learning in robot-assisted surgery.',
                    'JAMA Surgery. (2025). AI-augmented robotic surgery: Systematic review and meta-analysis.'
                ]
            },
            'bidirectional-bci': {
                description: 'Bidirectional Neural Interfaces (TRL 6) not only record brain activity but also write information back into the nervous system (stimulation). This "closed-loop" capability is critical for restoration of touch sensation in prosthetics and treating epilepsy by detecting seizures and stimulating to stop them. 2025 research successfully demonstrates intracortical microstimulation (ICMS) producing specific percepts of touch in human patients.',
                references: [
                    'DARPA. (2023). HAPTIX Program: Hand Proprioception and Touch Interfaces.',
                    'Frontiers in Neuroscience. (2024). Bidirectional BCI for restoration of sensorimotor function.'
                ]
            },
            'continuous-glucose': {
                description: 'Continuous Biosensors (TRL 9) like Dexcom G7 and Abbott FreeStyle Libre 3 have revolutionized diabetes management, replacing fingersticks with real-time glucose monitoring. These devices send data directly to smartphones/watches every minute. 2025 iterations track additional biomarkers like ketones, lactate, and alcohol levels, providing a comprehensive metabolic picture for athletes and patients alike.',
                references: [
                    'Dexcom. (2025). Next-Gen CGM Accuracy Reports.',
                    'Abbott. (2024). Lingo: Biowearables for metabolic health.'
                ]
            },
            'living-robots': {
                description: 'Xenobots are programmable living organisms created from frog cells, representing fusion of biology and robotics. Developed by researchers at Tufts and University of Vermont, xenobots self-assemble from stem cells into designed shapes, can move, work collectively, and self-heal. By 2025, third-generation xenobots can replicate through kinematic self-replication and perform simple tasks like collecting microplastics or delivering drugs. These millimeter-sized living machines operate without neurons or muscles, using cilia for locomotion. Potential applications include targeted drug delivery, cleaning pollutants, regenerative medicine, and understanding morphogenesis. Ethical considerations include biosafety, unintended reproduction, and the definition of life itself.',
                references: [
                    'Levin, M. et al. (2024). Xenobots 3.0: Self-Replication and Collective Behaviors.',
                    'PNAS. (2023). Biological robots: Design, fabrication and applications.',
                    'Bioethics. (2024). Ethical implications of programmable living systems.'
                ]
            },
            'organ-on-chip': {
                description: 'Organ-on-a-Chip technology (TRL 7) creates microfluidic devices that simulate the activities, mechanics, and physiological response of entire organs and organ systems. Replacing animal testing, these chips allow accurate drug toxicity screening. Companies like Emulate have commercially available Lung-Chip, Liver-Chip, and Intestine-Chip models used by major pharma to faster validate drug candidates.',
                references: [
                    'Emulate. (2024). Human Emulation System validation data.',
                    'FDA. (2023). Modernization Act 2.0: Alternatives to animal testing.'
                ]
            },
            'bioprinting-organs': {
                description: '3D bioprinting creates living tissue structures layer-by-layer using bio-inks containing cells, growth factors, and scaffolding materials. By December 2025, researchers successfully bioprint functional tissue including skin, cartilage, blood vessels, and simplified organ structures. Companies like Organovo, CELLINK, and Prellis Biologics advance towards transplantable organs. Current achievements include bioprinted skin for burn victims, cartilage for joint repair, and functional blood vessel networks. Liver and kidney organoids show promise for drug testing and disease modeling. Major challenges include vascularization of thick tissues, achieving organ-scale complexity, immune rejection, and regulatory pathways. Timeline to fully functional transplantable organs remains 10-20 years, but tissue patches and organoids already reach clinical trials.',
                references: [
                    'Nature Biotechnology. (2024). 3D bioprinting of vascularized tissues and organs.',
                    'Organovo. (2025). Bioprinted Human Tissues for Drug Discovery and Transplantation.',
                    'FDA. (2024). Regulatory Framework for Tissue-Engineered Products.'
                ]
            },
            'sensory-substitution': {
                description: 'Sensory Substitution Devices (SSD) (TRL 7) convert sensory information from one modality to another, such as converting visual data into tactile patterns on the tongue (BrainPort) or soundscapes (The vOICe). These non-invasive devices exploit brain plasticity, allowing blind individuals to "see" obstacles or read text through touch or sound. 2025 devices are smaller, wireless, and integrated into glasses/headsets.',
                references: [
                    'Wicab. (2024). BrainPort Vision Pro User Outcomes.',
                    'Neuroscience & Biobehavioral Reviews. (2023). Cross-modal plasticity.'
                ]
            },
            'biomimetic-skin': {
                description: 'Biomimetic Skin or "e-skin" (TRL 6) gives robots and prosthetics the ability to feel pressure, temperature, and texture. Made from flexible, stretchable electronics (often graphene or conducting polymers), e-skin mimics the mechanical properties of human skin. Applications extend to health monitoring patches that track hydration and sweat biomarkers comfortably.',
                references: [
                    'Stanford Research. (2024). Self-healing electronic skin.',
                    'Nature Electronics. (2025). Multi-modal e-skin.'
                ]
            },
            'artificial-muscle-actuators': {
                description: 'Artificial Muscle Actuators (TRL 6) utilize dielectric elastomers or shape memory alloys to contract similarly to biological muscles—silently and smoothly, unlike loud, rigid motors. HASEL actuators (Hydraulically Amplified Self-healing ELectrostatic) offer high strength-to-weight ratios for soft robotics prototypes. 2025 versions achieve efficiency closer to human muscles, promising lighter prosthetics and walking robots.',
                references: [
                    'Science. (2023). HASEL artificial muscles.',
                    'Soft Robotics Journal. (2024). High-performance dielectric elastomer actuators.'
                ]
            },
            'optogenetic-therapy': {
                description: 'Optogenetic Therapies (TRL 6) use gene therapy to make specific cells sensitive to light, then control them with precise light pulses. Clinical trials for retinitis pigmentosa (GS030) have restored partial vision to blind patients. Research explores managing chronic pain and controlling heart rhythm (biological pacemakers) using this precise, cell-specific control mechanism.',
                references: [
                    'GenSight Biologics. (2024). PIONEER Phase III Trial Results.',
                    'Nature Medicine. (2024). Optogenetics: From lab to clinic.'
                ]
            },
            'targeted-drug-microrobots': {
                description: 'Targeted Drug Delivery Microrobots (TRL 5) are microscopic carriers guided by magnetic fields to deliver chemotherapy directly to tumor sites, minimizing systemic side effects. These bio-hybrid bots often use bacteria or sperm cells for propulsion or synthetic corkscrews. 2025 research demonstrates successful deep-tissue navigation in large animal models.',
                references: [
                    'ETH Zurich. (2024). Magnetic microrobots for medical applications.',
                    'Science Robotics. (2023). Bio-hybrid micro-swimmers.'
                ]
            },
            'haptic-prosthetics': {
                description: 'Haptic prosthetics provide sensory feedback allowing users to "feel" through artificial limbs. Technologies include pressure sensors in fingertips, vibrotactile feedback, transcutaneous electrical nerve stimulation (TENS), and direct nerve interfaces. The LUKE arm provides grip strength feedback, while research systems enable texture discrimination and temperature sensing. Users report improved object manipulation (gripping eggs without crushing), reduced phantom limb pain, and psychological benefits of embodiment. Sensory feedback reduces visual dependence, enabling tasks like tying shoes or typing in dark. Challenges include natural sensation quality, sensor durability, and power consumption. Cost remains high but decreasing with technology maturation.',
                references: [
                    'Science Robotics. (2024). Sensory feedback in upper-limb prosthetics: A comprehensive review.',
                    'Touch Bionics. (2025). Sensory-Enabled Prosthetic Systems: Clinical Outcomes.',
                    'IEEE Transactions on Neural Systems. (2024). Bidirectional prosthetic interfaces.'
                ]
            },
            'self-healing-materials': {
                description: 'Self-Healing Biomaterials (TRL 6) are synthetic polymers and hydrogels capable of repairing damage spontaneously or with mild heat/light triggers, mimicking biological tissue repair. Used in soft robotics skins and implant coatings to extend lifespan. 2025 materials show 90% strength recovery after being cut, crucial for long-term implantable electronics.',
                references: [
                    'Nature Materials. (2024). Autonomously self-healing elastomers.',
                    'Advanced Materials. (2024). Self-healing hydrogels for tissue engineering.'
                ]
            },
            'bio-inspired-vision': {
                description: 'Bio-Inspired Vision Systems (TRL 7), also known as Event Cameras or Neuromorphic Vision, function like the human retina by only recording changes in a scene (pixels that change brightness) rather than frames. This results in microsecond latency, high dynamic range, and ultra-low power consumption. Prophesee and Sony mass-produce these sensors for industrial monitoring and autonomous drone navigation.',
                references: [
                    'Prophesee. (2025). Metavision sensor industrial adoption.',
                    'Sony Semiconductor. (2024). Event-based vision sensor technology.'
                ]
            },
            'muscle-computer-interface': {
                description: 'Muscle-Computer Interfaces (MCI) (TRL 7) decode motor unit potentials from surface electromyography (sEMG) to infer user intent before actual movement. Meta\'s electromyography wristband prototypes allow users to control AR/VR interfaces with subtle finger twitches. This offers a "privacy-friendly" and socially acceptable way to interact with smart glasses compared to voice commands.',
                references: [
                    'Meta Reality Labs. (2024). The Future of Interaction: EMG Wristbands.',
                    'Ctrl-Labs. (2023). Neural interface technology overview.'
                ]
            },
            'biodegradable-implants': {
                description: 'Biodegradable Implants (TRL 7) are medical devices (stents, bone screws, electronics) designed to perform their function for a set time and then dissolve harmlessly in the body, eliminating the need for removal surgery. Magnesium and zinc-based alloys, as well as silk-based electronics ("transient electronics"), are now FDA-cleared for certain cardiovascular and orthopedic applications.',
                references: [
                    'Nature Electronics. (2024). Transient electronics for medical implants.',
                    'Biotronik. (2024). Resorbable Magnesium Scaffold 5-year data.'
                ]
            },
            'neural-dust': {
                description: 'Neural Dust (TRL 4) refers to millimeter-scale wireless sensors powered by ultrasound that can be sprinkled onto nerves or organs to monitor activity deep inside the body. Developed at UC Berkeley, these "motes" eliminate wires and batteries. 2025 research expands this to "StimDust" capable of stimulating nerves, aiming for a "Fitbit for the nervous system".',
                references: [
                    'UC Berkeley. (2023). Neural Dust: Ultrasonic neural interfaces.',
                    'Neuron. (2024). Wireless recording of nerve activity.'
                ]
            },
            'artificial-synapse': {
                description: 'Artificial Synapses (TRL 4) often based on memristors, mimic the plasticity of biological synapses (STDP - Spike Timing Dependent Plasticity). They are the building blocks for "brain-on-chip" hardware that can learn directly from data with extreme energy efficiency. Research focuses on integrating these with living neurons to create hybrid circuits.',
                references: [
                    'Nature Nanotechnology. (2024). Memristive devices for neuromorphic computing.',
                    'IBM Research. (2024). Analog AI hardware progress.'
                ]
            },
            'body-area-networks': {
                description: 'Wireless Body Area Networks (WBAN) (TRL 8) connect wearable and implantable sensors into a cohesive monitoring system. Your smartwatch, glucose monitor, and heart rate strap communicating securely to create a personal health dashboard. 2025 standards (IEEE 802.15.6) ensure low-power, secure, and reliable communication even through body tissue, essential for closed-loop medical systems.',
                references: [
                    'IEEE Standards Association. (2024). IEEE 802.15.6 Standard for WBAN.',
                    'Samsung Health. (2025). BioActive Sensor Integration ecosystem.'
                ]
            }
        };

        const techConnections = [
            ['thought-controlled-prosthetics', 'haptic-prosthetics'],
            ['neuralink-style-bci', 'bidirectional-bci'],
            ['soft-robotics-medical', 'surgical-robots-ai'],
            ['living-robots', 'bioprinting-organs'],
            ['biomimetic-skin', 'self-healing-materials'],
            ['muscle-computer-interface', 'thought-controlled-prosthetics'],
            ['neural-dust', 'body-area-networks']
        ];

        // ========== GENERIC VISUALIZATION CODE - NO CHANGES NEEDED ==========

        let currentYear = 2025;
        let currentFilter = 'all';
        let selectedTech = null;

        const width = window.innerWidth;
        const height = window.innerHeight;
        const centerX = width / 2;
        const centerY = height / 2;
        const maxRadius = Math.min(width, height) * 0.4;

        const svg = d3.select('#radarSvg')
            .attr('width', width)
            .attr('height', height);

        const categoryColors = {
            research: 'var(--color-electric-blue)',
            industry: 'var(--color-gray-800)',
            emerging: 'var(--color-gray-600)',
            experimental: 'var(--color-electric-blue-dark)'
        };

        const trlColors = d3.scaleLinear()
            .domain([1, 5, 9])
            .range(['#a3a3a3', '#525252', '#4040ff']);

        let currentZoom = 1;
        const minZoom = 0.5;
        const maxZoom = 3;
        let zoomTransform = d3.zoomIdentity;

        function initVisualization() {
            setupZoom();
            setTimeout(() => {
                document.getElementById('loadingIndicator').style.display = 'none';
                renderRadar();
            }, 1500);
        }

        function setupZoom() {
            const zoom = d3.zoom()
                .scaleExtent([minZoom, maxZoom])
                .on('zoom', handleZoom);

            svg.call(zoom);

            document.getElementById('zoomIn').addEventListener('click', () => {
                svg.transition().duration(300).call(zoom.scaleBy, 1.5);
            });

            document.getElementById('zoomOut').addEventListener('click', () => {
                svg.transition().duration(300).call(zoom.scaleBy, 1 / 1.5);
            });

            document.getElementById('resetZoom').addEventListener('click', () => {
                svg.transition().duration(500).call(zoom.transform, d3.zoomIdentity);
            });
        }

        function handleZoom(event) {
            zoomTransform = event.transform;
            svg.select('.radar-content').attr('transform', zoomTransform);
        }

        function renderRadar() {
            svg.selectAll('*').remove();

            const radarContent = svg.append('g').attr('class', 'radar-content');
            const defs = svg.append('defs');

            const shadow = defs.append('filter')
                .attr('id', 'shadow')
                .attr('x', '-50%')
                .attr('y', '-50%')
                .attr('width', '200%')
                .attr('height', '200%');

            shadow.append('feDropShadow')
                .attr('dx', 2)
                .attr('dy', 2)
                .attr('stdDeviation', 3)
                .attr('flood-color', '#000')
                .attr('flood-opacity', 0.2);

            radarContent.append('circle')
                .attr('cx', centerX)
                .attr('cy', centerY)
                .attr('r', maxRadius)
                .attr('fill', '#f8fafc')
                .attr('stroke', '#e2e8f0')
                .attr('stroke-width', 2);

            for (let i = 1; i <= 9; i++) {
                const radius = (maxRadius / 9) * i;

                radarContent.append('circle')
                    .attr('cx', centerX)
                    .attr('cy', centerY)
                    .attr('r', radius)
                    .attr('fill', 'none')
                    .attr('stroke', '#cbd5e1')
                    .attr('stroke-width', 1)
                    .attr('opacity', 0.6);

                if (i % 3 === 0) {
                    radarContent.append('text')
                        .attr('x', centerX + radius + 10)
                        .attr('y', centerY + 5)
                        .attr('fill', '#1e293b')
                        .attr('font-size', '12px')
                        .attr('font-family', 'var(--font-primary)')
                        .attr('font-weight', '600')
                        .text(`TRL ${i}`);
                }
            }

            for (let i = 0; i < 12; i++) {
                const angle = (i * 30) * Math.PI / 180;
                const x2 = centerX + Math.cos(angle) * maxRadius;
                const y2 = centerY + Math.sin(angle) * maxRadius;

                radarContent.append('line')
                    .attr('x1', centerX)
                    .attr('y1', centerY)
                    .attr('x2', x2)
                    .attr('y2', y2)
                    .attr('stroke', '#e2e8f0')
                    .attr('stroke-width', 1)
                    .attr('opacity', 0.5);
            }

            const data = technologyData[currentYear] || technologyData[2025];
            const filteredData = currentFilter === 'all' ? data : data.filter(d => d.category === currentFilter);

            const techGroups = radarContent.selectAll('.tech-node')
                .data(filteredData)
                .enter()
                .append('g')
                .attr('class', 'tech-node')
                .style('cursor', 'pointer')
                .on('click', (event, d) => showTechInfo(d))
                .on('mouseover', function (event, d) {
                    d3.select(this).select('circle')
                        .transition()
                        .duration(200)
                        .attr('r', 12)
                        .attr('filter', 'url(#shadow)');
                })
                .on('mouseout', function (event, d) {
                    d3.select(this).select('circle')
                        .transition()
                        .duration(200)
                        .attr('r', 8)
                        .attr('filter', 'none');
                });

            techGroups.each(function (d) {
                const group = d3.select(this);
                const radius = (maxRadius / 9) * d.trl;
                const angleRad = (d.angle - 90) * Math.PI / 180;
                const x = centerX + Math.cos(angleRad) * radius;
                const y = centerY + Math.sin(angleRad) * radius;

                const nodeColor = getContrastColor(d.category, d.trl);
                group.append('circle')
                    .attr('cx', x)
                    .attr('cy', y)
                    .attr('r', 8)
                    .attr('fill', nodeColor.fill)
                    .attr('stroke', nodeColor.stroke)
                    .attr('stroke-width', 2);

                if (d.trl >= 6 || d.category === 'emerging') {
                    const labelRadius = radius + 25;
                    const labelX = centerX + Math.cos(angleRad) * labelRadius;
                    const labelY = centerY + Math.sin(angleRad) * labelRadius;

                    group.append('text')
                        .attr('x', labelX)
                        .attr('y', labelY)
                        .attr('text-anchor', 'middle')
                        .attr('fill', '#1e293b')
                        .attr('font-size', '10px')
                        .attr('font-family', 'var(--font-primary)')
                        .attr('font-weight', '600')
                        .text(d.name.length > 15 ? d.name.substring(0, 15) + '...' : d.name);
                }
            });

            drawConnections(filteredData);

            svg.selectAll('.tech-node')
                .style('opacity', 0)
                .transition()
                .duration(1000)
                .delay((d, i) => i * 50)
                .style('opacity', 1);
        }

        function getContrastColor(category, trl) {
            const colors = {
                research: { fill: '#4040ff', stroke: '#1e1e8f' },
                industry: { fill: '#1e293b', stroke: '#0f172a' },
                emerging: { fill: '#64748b', stroke: '#475569' },
                experimental: { fill: '#3030dd', stroke: '#1e1e8f' }
            };
            return colors[category] || colors.research;
        }

        function drawConnections(data) {
            const connectionGroup = svg.select('.radar-content').append('g').attr('class', 'connections');

            techConnections.forEach(([source, target]) => {
                const sourceNode = data.find(d => d.id === source);
                const targetNode = data.find(d => d.id === target);

                if (sourceNode && targetNode) {
                    const sourceRadius = (maxRadius / 9) * sourceNode.trl;
                    const targetRadius = (maxRadius / 9) * targetNode.trl;
                    const sourceAngle = (sourceNode.angle - 90) * Math.PI / 180;
                    const targetAngle = (targetNode.angle - 90) * Math.PI / 180;

                    const sourceX = centerX + Math.cos(sourceAngle) * sourceRadius;
                    const sourceY = centerY + Math.sin(sourceAngle) * sourceRadius;
                    const targetX = centerX + Math.cos(targetAngle) * targetRadius;
                    const targetY = centerY + Math.sin(targetAngle) * targetRadius;

                    const midX = (sourceX + targetX) / 2;
                    const midY = (sourceY + targetY) / 2;
                    const controlX = midX + (centerX - midX) * 0.3;
                    const controlY = midY + (centerY - midY) * 0.3;

                    const path = `M ${sourceX},${sourceY} Q ${controlX},${controlY} ${targetX},${targetY}`;

                    connectionGroup.append('path')
                        .attr('d', path)
                        .attr('stroke', '#3b82f6')
                        .attr('stroke-width', 1.5)
                        .attr('fill', 'none')
                        .attr('opacity', 0.6)
                        .attr('stroke-dasharray', '5,5');
                }
            });
        }

        function showTechInfo(tech) {
            selectedTech = tech;
            const infoPanel = document.getElementById('infoPanel');
            const content = document.getElementById('infoPanelContent');

            const techInfo = techDescriptions[tech.id] || {};
            const description = techInfo.description || `${tech.name} is a bio-robotics technology with TRL level ${tech.trl}.`;
            const references = techInfo.references || [];

            content.innerHTML = `
                <h2 class="info-title">${tech.name}</h2>
                <div class="info-meta">
                    <span class="meta-badge meta-${tech.category}">${tech.category.toUpperCase()}</span>
                    <span class="meta-badge" style="background: ${trlColors(tech.trl)}; color: white;">TRL ${tech.trl}</span>
                    <span class="meta-badge" style="background: var(--color-gray-700); color: white;">Year: ${currentYear}</span>
                </div>
                <div class="info-description">
                    ${description}
                </div>
                <div class="progress-grid">
                    ${Object.entries(tech.progress).map(([key, value]) => `
                        <div class="progress-item">
                            <div class="progress-label">${key}</div>
                            <div class="progress-bar">
                                <div class="progress-fill" style="width: ${value}%;"></div>
                            </div>
                            <div class="progress-value">${value}%</div>
                        </div>
                    `).join('')}
                </div>
                ${references.length > 0 ? `
                    <div class="references-section">
                        <div class="references-title">Key References</div>
                        ${references.map(ref => `
                            <div class="reference-item">• ${ref}</div>
                        `).join('')}
                    </div>
                ` : ''}
            `;

            infoPanel.classList.add('active');
        }

        function closeInfoPanel() {
            document.getElementById('infoPanel').classList.remove('active');
            selectedTech = null;
        }

        function toggleTRLInfo() {
            const trlInfoPanel = document.getElementById('trlInfoPanel');
            trlInfoPanel.classList.toggle('active');
        }

        document.querySelectorAll('[data-filter]').forEach(btn => {
            btn.addEventListener('click', function () {
                document.querySelectorAll('[data-filter]').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                currentFilter = this.dataset.filter;
                renderRadar();
            });
        });

        document.querySelectorAll('[data-time]').forEach(btn => {
            btn.addEventListener('click', function () {
                document.querySelectorAll('[data-time]').forEach(b => b.classList.remove('active'));
                this.classList.add('active');
                currentYear = parseInt(this.dataset.time);
                renderRadar();
            });
        });

        window.addEventListener('resize', () => {
            location.reload();
        });

        initVisualization();
    </script>
</body>

</html>